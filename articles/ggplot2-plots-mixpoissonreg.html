<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Building and customizing ggplot2-based diagnostic plots with the mixpoissonreg package • mixpoissonreg</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/sandstone/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Building and customizing ggplot2-based diagnostic plots with the mixpoissonreg package">
<meta property="og:description" content="mixpoissonreg">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">mixpoissonreg</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">1.0.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../articles/mixpoissonreg.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/ggplot2-plots-mixpoissonreg.html">Building and customizing ggplot2-based diagnostic plots with the mixpoissonreg package</a>
    </li>
    <li>
      <a href="../articles/influence-mixpoissonreg.html">Global and local influence analysis with the *mixpoissonreg* package</a>
    </li>
    <li>
      <a href="../articles/intervals-mixpoissonreg.html">Confidence and prediction intervals with  the mixpoissonreg package</a>
    </li>
    <li>
      <a href="../articles/ml-mixpoissonreg.html">Maximum-likelihood estimation with the mixpoissonreg package</a>
    </li>
    <li>
      <a href="../articles/plots-mixpoissonreg.html">Building and customizing base-R diagnostic plots with the mixpoissonreg package</a>
    </li>
    <li>
      <a href="../articles/tidyverse-mixpoissonreg.html">mixpoissonreg in the tidyverse</a>
    </li>
    <li>
      <a href="../articles/tutorial-mixpoissonreg.html">Analyzing overdispersed count data with the mixpoissonreg package</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/vpnsctl/mixpoissonreg/">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><script src="ggplot2-plots-mixpoissonreg_files/accessible-code-block-0.0.1/empty-anchor.js"></script><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Building and customizing ggplot2-based diagnostic plots with the mixpoissonreg package</h1>
                        <h4 class="author">Alexandre B. Simas</h4>
            
            <h4 class="date">2021-03-11</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/vpnsctl/mixpoissonreg/blob/master/vignettes/ggplot2-plots-mixpoissonreg.Rmd"><code>vignettes/ggplot2-plots-mixpoissonreg.Rmd</code></a></small>
      <div class="hidden name"><code>ggplot2-plots-mixpoissonreg.Rmd</code></div>

    </div>

    
    
<div id="ggplot2-based-diagnostic-plots" class="section level1">
<h1 class="hasAnchor">
<a href="#ggplot2-based-diagnostic-plots" class="anchor"></a><code>ggplot2</code>-based diagnostic plots</h1>
<p>To obtain <code>ggplot2</code>-based diagnostic plots for <code>mixpoissonreg</code> objects one should use the <code>autoplot</code> method.</p>
<p>In the subsequent sections we will show how to use the <code>autoplot</code> method as well as how to use its arguments to customize the plots.</p>
<div id="choosing-plots" class="section level2">
<h2 class="hasAnchor">
<a href="#choosing-plots" class="anchor"></a>Choosing plots</h2>
<p>The first, and maybe the easiest, customizable option is the choice of plots to be displayed. The current available plots are (together with their corresponding numbers):</p>
<ol style="list-style-type: decimal">
<li><em>Residuals vs Obs. number</em></li>
<li><em>Normal Q-Q</em></li>
<li><em>Cook’s distance</em></li>
<li><em>Generalized Cook’s distance</em></li>
<li><em>Cook’s dist vs Generalized Cook’s dist</em></li>
<li><em>Response vs Fitted means</em></li>
</ol>
<p>These plots can be chosen by giving a list of the numbers of the wanted plots in the <code>which</code> argument.</p>
<p>If the argument <code>which</code> is not provided, then, by default, the plots 1, 2, 5 and 6 will be displayed:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/vpnsctl/mixpoissonreg/">mixpoissonreg</a></span><span class="op">)</span>

<span class="va">fit</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/mixpoissonreg.html">mixpoissonreg</a></span><span class="op">(</span><span class="va">daysabs</span> <span class="op">~</span> <span class="va">gender</span> <span class="op">+</span> <span class="va">math</span> <span class="op">+</span> <span class="va">prog</span> <span class="op">|</span> <span class="va">gender</span> <span class="op">+</span> <span class="va">math</span> <span class="op">+</span> <span class="va">prog</span>, 
                        data <span class="op">=</span> <span class="va">Attendance</span><span class="op">)</span>

<span class="fu"><a href="../reference/autoplot.mixpoissonreg.html">autoplot</a></span><span class="op">(</span><span class="va">fit</span><span class="op">)</span></code></pre></div>
<p><img src="ggplot2-plots-mixpoissonreg_files/figure-html/unnamed-chunk-2-1.png" width="700"><img src="ggplot2-plots-mixpoissonreg_files/figure-html/unnamed-chunk-2-2.png" width="700"><img src="ggplot2-plots-mixpoissonreg_files/figure-html/unnamed-chunk-2-3.png" width="700"><img src="ggplot2-plots-mixpoissonreg_files/figure-html/unnamed-chunk-2-4.png" width="700"></p>
<p>If we want only a single plot, we simply indicate its number. For instance, if we only want the plot of Cook’s distances, we simply set <code>which = 3</code>:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/autoplot.mixpoissonreg.html">autoplot</a></span><span class="op">(</span><span class="va">fit</span>, which <span class="op">=</span> <span class="fl">3</span><span class="op">)</span></code></pre></div>
<p><img src="ggplot2-plots-mixpoissonreg_files/figure-html/unnamed-chunk-3-1.png" width="700"></p>
<p>If we want more than one, we provide a list with the desired plots. Suppose we want the global influence-related plots, that is, plots 3, 4 and 5. Then, we set <code>which = c(3,4,5)</code>:</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/autoplot.mixpoissonreg.html">autoplot</a></span><span class="op">(</span><span class="va">fit</span>, which <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">3</span>,<span class="fl">4</span>,<span class="fl">5</span><span class="op">)</span><span class="op">)</span></code></pre></div>
<p><img src="ggplot2-plots-mixpoissonreg_files/figure-html/unnamed-chunk-4-1.png" width="700"><img src="ggplot2-plots-mixpoissonreg_files/figure-html/unnamed-chunk-4-2.png" width="700"><img src="ggplot2-plots-mixpoissonreg_files/figure-html/unnamed-chunk-4-3.png" width="700"></p>
</div>
<div id="titles-and-subtitles" class="section level2">
<h2 class="hasAnchor">
<a href="#titles-and-subtitles" class="anchor"></a>Titles and subtitles</h2>
<p>In this section we will describe how to customize titles and subtitles.</p>
<p>First of all, by default, the type of the fitted model (that is, if it is a Negative-Binomial or Poisson Inverse Gaussian regression) is included in each title. See, for instance, the plot below:</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/autoplot.mixpoissonreg.html">autoplot</a></span><span class="op">(</span><span class="va">fit</span>, which <span class="op">=</span> <span class="fl">1</span><span class="op">)</span></code></pre></div>
<p><img src="ggplot2-plots-mixpoissonreg_files/figure-html/unnamed-chunk-5-1.png" width="700"></p>
<p>To remove the model type, simply set <code>include.modeltype</code> to <code>FALSE</code>:</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/autoplot.mixpoissonreg.html">autoplot</a></span><span class="op">(</span><span class="va">fit</span>, which <span class="op">=</span> <span class="fl">1</span>, include.modeltype <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></code></pre></div>
<p><img src="ggplot2-plots-mixpoissonreg_files/figure-html/unnamed-chunk-6-1.png" width="700"></p>
<p>One should notice that in both plots, the type of the residual was only included in the <em>y</em>-axis label. To also include the type of the residual at the title, simply set <code>include.residualtype</code> to <code>TRUE</code>:</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/autoplot.mixpoissonreg.html">autoplot</a></span><span class="op">(</span><span class="va">fit</span>, which <span class="op">=</span> <span class="fl">1</span>, include.residualtype <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></code></pre></div>
<p><img src="ggplot2-plots-mixpoissonreg_files/figure-html/unnamed-chunk-7-1.png" width="700"></p>
<p>The titles of the plots (displayed above the plot) can be altered by setting the <code>title</code> parameter to a list containing the wanted titles. One drawback is that we have to provide a list containing the titles we want in the positions of the plots we want. For example, if we only have one plot, the following example will change the caption:</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">my_titles</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/rep.html">rep</a></span><span class="op">(</span><span class="st">""</span>,<span class="fl">6</span><span class="op">)</span>
<span class="va">my_titles</span><span class="op">[</span><span class="fl">2</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="st">"My title 2"</span>

<span class="fu"><a href="../reference/autoplot.mixpoissonreg.html">autoplot</a></span><span class="op">(</span><span class="va">fit</span>, which <span class="op">=</span> <span class="fl">2</span>, title <span class="op">=</span> <span class="va">my_titles</span><span class="op">)</span></code></pre></div>
<p><img src="ggplot2-plots-mixpoissonreg_files/figure-html/unnamed-chunk-8-1.png" width="700"></p>
<p>Similarly, if we wanted to set the titles of plots 2 and 4, we could do:</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">my_titles</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/rep.html">rep</a></span><span class="op">(</span><span class="st">""</span>,<span class="fl">6</span><span class="op">)</span>
<span class="va">my_titles</span><span class="op">[</span><span class="fl">2</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="st">"My title 2"</span>
<span class="va">my_titles</span><span class="op">[</span><span class="fl">4</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="st">"My title 4"</span>

<span class="fu"><a href="../reference/autoplot.mixpoissonreg.html">autoplot</a></span><span class="op">(</span><span class="va">fit</span>, which <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">2</span>,<span class="fl">4</span><span class="op">)</span>, title <span class="op">=</span> <span class="va">my_titles</span><span class="op">)</span></code></pre></div>
<p><img src="ggplot2-plots-mixpoissonreg_files/figure-html/unnamed-chunk-9-1.png" width="700"><img src="ggplot2-plots-mixpoissonreg_files/figure-html/unnamed-chunk-9-2.png" width="700"></p>
<p>Notice that, since we did not change the <code>include.modeltype</code> argument, the model type are added in the new captions.</p>
<p>We can change the size of the titles with the argument <code>title.size</code>. So, for instance,</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/autoplot.mixpoissonreg.html">autoplot</a></span><span class="op">(</span><span class="va">fit</span>, which <span class="op">=</span> <span class="fl">1</span>, title.size <span class="op">=</span> <span class="fl">20</span>, include.modeltype <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></code></pre></div>
<p><img src="ggplot2-plots-mixpoissonreg_files/figure-html/unnamed-chunk-10-1.png" width="700"></p>
<p>We can also turn the title <em>bold</em> by setting the argument <code>title.bold</code> to <code>TRUE</code>:</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/autoplot.mixpoissonreg.html">autoplot</a></span><span class="op">(</span><span class="va">fit</span>, which <span class="op">=</span> <span class="fl">1</span>, title.bold <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></code></pre></div>
<p><img src="ggplot2-plots-mixpoissonreg_files/figure-html/unnamed-chunk-11-1.png" width="700"></p>
<p>We can also change the subcaption. By default, the subcaption is a simplified version of the call to the <code>mixpoissonreg</code> function that was used to fit the model.</p>
<p>We must have some caution on describing the subcaption. If each plot is given in one window (in the case both <code>ncol</code> and <code>nrow</code> are <code>NULL</code>), then the subcaption is the caption below the <em>x</em>-axis label. However, if multiple plots are given at once, and there is space on the upper part of the plot, then the subcaption is a general caption for all the plots.</p>
<p>We will illustrate the above description with examples to make it clearer.</p>
<p>The subcaption can be altered by setting the <code>sub.caption</code> parameter to the desired caption.</p>
<p>Thus, we begin by providing the situation of one plot at a time.</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/autoplot.mixpoissonreg.html">autoplot</a></span><span class="op">(</span><span class="va">fit</span>, which <span class="op">=</span> <span class="fl">1</span>, sub.caption <span class="op">=</span> <span class="st">"My subcaption"</span><span class="op">)</span></code></pre></div>
<p><img src="ggplot2-plots-mixpoissonreg_files/figure-html/unnamed-chunk-12-1.png" width="700"></p>
<p>Notice that the subcaption is below the <em>x</em>-axis label. The same happens even if we there is more than one plot but both <code>ncol</code> and <code>nrow</code> are <code>NULL</code>:</p>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/autoplot.mixpoissonreg.html">autoplot</a></span><span class="op">(</span><span class="va">fit</span>, sub.caption <span class="op">=</span> <span class="st">"My subcaption"</span><span class="op">)</span></code></pre></div>
<p><img src="ggplot2-plots-mixpoissonreg_files/figure-html/unnamed-chunk-13-1.png" width="700"><img src="ggplot2-plots-mixpoissonreg_files/figure-html/unnamed-chunk-13-2.png" width="700"><img src="ggplot2-plots-mixpoissonreg_files/figure-html/unnamed-chunk-13-3.png" width="700"><img src="ggplot2-plots-mixpoissonreg_files/figure-html/unnamed-chunk-13-4.png" width="700"></p>
<p>Now, notice the position of the subcaption when we gather multiple plots using the one of the arguments <code>ncol</code> and/or <code>nrow</code>:</p>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/autoplot.mixpoissonreg.html">autoplot</a></span><span class="op">(</span><span class="va">fit</span>, sub.caption <span class="op">=</span> <span class="st">"My subcaption"</span>, nrow <span class="op">=</span> <span class="fl">2</span><span class="op">)</span></code></pre></div>
<p><img src="ggplot2-plots-mixpoissonreg_files/figure-html/unnamed-chunk-14-1.png" width="700"></p>
<p>In the previous case, that is, the case in which we have the subcaption above all plots,notice that the common title is bold by default. One can make it not bold by setting <code>gpar_sub.caption</code> argument to <code><a href="https://rdrr.io/r/base/list.html">list()</a></code>:</p>
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/autoplot.mixpoissonreg.html">autoplot</a></span><span class="op">(</span><span class="va">fit</span>, sub.caption <span class="op">=</span> <span class="st">"My subcaption"</span>, nrow <span class="op">=</span> <span class="fl">2</span>,
         gpar_sub.caption <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span></code></pre></div>
<p><img src="ggplot2-plots-mixpoissonreg_files/figure-html/unnamed-chunk-15-1.png" width="700"></p>
<p>Similarly, we can change the size of the subcaption using the argument by defining a <code>fontsize</code> element to the <code>gpar_sub.caption</code> list. For instance,</p>
<div class="sourceCode" id="cb15"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/autoplot.mixpoissonreg.html">autoplot</a></span><span class="op">(</span><span class="va">fit</span>, sub.caption <span class="op">=</span> <span class="st">"My subcaption"</span>, nrow <span class="op">=</span> <span class="fl">2</span>,
         gpar_sub.caption <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span>fontface <span class="op">=</span> <span class="st">"bold"</span>, fontsize <span class="op">=</span> <span class="fl">30</span><span class="op">)</span><span class="op">)</span></code></pre></div>
<p><img src="ggplot2-plots-mixpoissonreg_files/figure-html/unnamed-chunk-16-1.png" width="700"></p>
</div>
<div id="colors-sizes-point-types-and-line-types" class="section level2">
<h2 class="hasAnchor">
<a href="#colors-sizes-point-types-and-line-types" class="anchor"></a>Colors, sizes, point types and line types</h2>
<p>In this section we show how to customize colors, sizes and types of lines and points.</p>
<p>First of all, let us change the shape of the points. To this end we set the <code>shape</code> argument to the desired shape:</p>
<div class="sourceCode" id="cb16"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/autoplot.mixpoissonreg.html">autoplot</a></span><span class="op">(</span><span class="va">fit</span>, which <span class="op">=</span> <span class="fl">1</span>, shape <span class="op">=</span> <span class="fl">2</span><span class="op">)</span></code></pre></div>
<p><img src="ggplot2-plots-mixpoissonreg_files/figure-html/unnamed-chunk-17-1.png" width="700"></p>
<p>Now let us deal with the point colors. To change the colors of the points, we use the <code>colour</code> argument:</p>
<div class="sourceCode" id="cb17"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/autoplot.mixpoissonreg.html">autoplot</a></span><span class="op">(</span><span class="va">fit</span>, which <span class="op">=</span> <span class="fl">1</span>, colour <span class="op">=</span> <span class="st">"red"</span><span class="op">)</span></code></pre></div>
<p><img src="ggplot2-plots-mixpoissonreg_files/figure-html/unnamed-chunk-18-1.png" width="700"></p>
<p>To change the point sizes, we use the <code>size</code> argument:</p>
<div class="sourceCode" id="cb18"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/autoplot.mixpoissonreg.html">autoplot</a></span><span class="op">(</span><span class="va">fit</span>, which <span class="op">=</span> <span class="fl">1</span>, size <span class="op">=</span> <span class="fl">5</span><span class="op">)</span></code></pre></div>
<p><img src="ggplot2-plots-mixpoissonreg_files/figure-html/unnamed-chunk-19-1.png" width="700"></p>
<p>We will now deal with point labels. First of all, we may change the color of the point labels by using the argument <code>label.colour</code>:</p>
<div class="sourceCode" id="cb19"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/autoplot.mixpoissonreg.html">autoplot</a></span><span class="op">(</span><span class="va">fit</span>, which <span class="op">=</span> <span class="fl">1</span>, label.colour <span class="op">=</span> <span class="st">"red"</span><span class="op">)</span></code></pre></div>
<p><img src="ggplot2-plots-mixpoissonreg_files/figure-html/unnamed-chunk-20-1.png" width="700"></p>
<p>We can change the point labels’ sizes by using the <code>label.size</code> argument:</p>
<div class="sourceCode" id="cb20"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/autoplot.mixpoissonreg.html">autoplot</a></span><span class="op">(</span><span class="va">fit</span>, which <span class="op">=</span> <span class="fl">1</span>, label.size <span class="op">=</span> <span class="fl">10</span><span class="op">)</span></code></pre></div>
<p><img src="ggplot2-plots-mixpoissonreg_files/figure-html/unnamed-chunk-21-1.png" width="700"></p>
<p>Another example is the title color. We can change the title color with the <code>title.colour</code> argument:</p>
<div class="sourceCode" id="cb21"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/autoplot.mixpoissonreg.html">autoplot</a></span><span class="op">(</span><span class="va">fit</span>, which <span class="op">=</span> <span class="fl">1</span>, title.colour <span class="op">=</span> <span class="st">"red"</span><span class="op">)</span></code></pre></div>
<p><img src="ggplot2-plots-mixpoissonreg_files/figure-html/unnamed-chunk-22-1.png" width="700"></p>
<p>We can also change the title size, by using the <code>title.size</code> argument:</p>
<div class="sourceCode" id="cb22"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/autoplot.mixpoissonreg.html">autoplot</a></span><span class="op">(</span><span class="va">fit</span>, which <span class="op">=</span> <span class="fl">1</span>, title.size <span class="op">=</span> <span class="fl">20</span><span class="op">)</span></code></pre></div>
<p><img src="ggplot2-plots-mixpoissonreg_files/figure-html/unnamed-chunk-23-1.png" width="700"></p>
<p>Similarly, we can change the <em>x</em> and <em>y</em> label’s colors by using the <code>x.axis.col</code> and <code>y.axis.col</code> arguments:</p>
<div class="sourceCode" id="cb23"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/autoplot.mixpoissonreg.html">autoplot</a></span><span class="op">(</span><span class="va">fit</span>, which <span class="op">=</span> <span class="fl">1</span>, x.axis.col <span class="op">=</span> <span class="st">"orange"</span>, y.axis.col <span class="op">=</span> <span class="st">"red"</span><span class="op">)</span></code></pre></div>
<p><img src="ggplot2-plots-mixpoissonreg_files/figure-html/unnamed-chunk-24-1.png" width="700"></p>
<p>As well as change their sizes by using the <code>x.axis.size</code> and <code>y.axis.size</code> arguments:</p>
<div class="sourceCode" id="cb24"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/autoplot.mixpoissonreg.html">autoplot</a></span><span class="op">(</span><span class="va">fit</span>, which <span class="op">=</span> <span class="fl">1</span>, x.axis.size <span class="op">=</span> <span class="fl">20</span>, y.axis.size <span class="op">=</span> <span class="fl">20</span><span class="op">)</span></code></pre></div>
<p><img src="ggplot2-plots-mixpoissonreg_files/figure-html/unnamed-chunk-25-1.png" width="700"></p>
<p>We can change the <code>sub.caption</code> color by using the <code>sub.caption.col</code> argument:</p>
<div class="sourceCode" id="cb25"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/autoplot.mixpoissonreg.html">autoplot</a></span><span class="op">(</span><span class="va">fit</span>, which <span class="op">=</span> <span class="fl">1</span>, sub.caption.col <span class="op">=</span> <span class="st">"red"</span><span class="op">)</span></code></pre></div>
<p><img src="ggplot2-plots-mixpoissonreg_files/figure-html/unnamed-chunk-26-1.png" width="700"></p>
<p>and change its size by using the <code>sub.caption.size</code> argument:</p>
<div class="sourceCode" id="cb26"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/autoplot.mixpoissonreg.html">autoplot</a></span><span class="op">(</span><span class="va">fit</span>, which <span class="op">=</span> <span class="fl">1</span>, sub.caption.size <span class="op">=</span> <span class="fl">20</span><span class="op">)</span></code></pre></div>
<p><img src="ggplot2-plots-mixpoissonreg_files/figure-html/unnamed-chunk-27-1.png" width="700"></p>
<p>We can also change the font face by using the <code>sub.caption.face</code> argument:</p>
<div class="sourceCode" id="cb27"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/autoplot.mixpoissonreg.html">autoplot</a></span><span class="op">(</span><span class="va">fit</span>, which <span class="op">=</span> <span class="fl">1</span>, sub.caption.face <span class="op">=</span> <span class="st">"italic"</span><span class="op">)</span></code></pre></div>
<p><img src="ggplot2-plots-mixpoissonreg_files/figure-html/unnamed-chunk-28-1.png" width="700"></p>
<p>We can change the position of the subcaption by changing the <code>sub.caption.hjust</code> argument. The default is 0.5 which indicates that the subcaption is centered. We can place the subcaption to the left side of the plot by setting it to 0:</p>
<div class="sourceCode" id="cb28"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/autoplot.mixpoissonreg.html">autoplot</a></span><span class="op">(</span><span class="va">fit</span>, which <span class="op">=</span> <span class="fl">1</span>, sub.caption.hjust <span class="op">=</span> <span class="fl">0</span><span class="op">)</span></code></pre></div>
<p><img src="ggplot2-plots-mixpoissonreg_files/figure-html/unnamed-chunk-29-1.png" width="700"></p>
<p>We can also place it on the right side of the plot by setting it to 1:</p>
<div class="sourceCode" id="cb29"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/autoplot.mixpoissonreg.html">autoplot</a></span><span class="op">(</span><span class="va">fit</span>, which <span class="op">=</span> <span class="fl">1</span>, sub.caption.hjust <span class="op">=</span> <span class="fl">1</span><span class="op">)</span></code></pre></div>
<p><img src="ggplot2-plots-mixpoissonreg_files/figure-html/unnamed-chunk-30-1.png" width="700"></p>
<p>Let us now customize the lines in the Cook’s distance plots, namely plots 3 and 4. By default, the line type for Cook’s distance plots is “linerange”:</p>
<div class="sourceCode" id="cb30"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/autoplot.mixpoissonreg.html">autoplot</a></span><span class="op">(</span><span class="va">fit</span>, which <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">3</span>,<span class="fl">4</span><span class="op">)</span><span class="op">)</span></code></pre></div>
<p><img src="ggplot2-plots-mixpoissonreg_files/figure-html/unnamed-chunk-31-1.png" width="700"><img src="ggplot2-plots-mixpoissonreg_files/figure-html/unnamed-chunk-31-2.png" width="700"></p>
<p>We change the line colors by using the <code>colour</code> argument:</p>
<div class="sourceCode" id="cb31"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/autoplot.mixpoissonreg.html">autoplot</a></span><span class="op">(</span><span class="va">fit</span>, which <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">3</span>,<span class="fl">4</span><span class="op">)</span>, colour <span class="op">=</span> <span class="st">"red"</span><span class="op">)</span></code></pre></div>
<p><img src="ggplot2-plots-mixpoissonreg_files/figure-html/unnamed-chunk-32-1.png" width="700"><img src="ggplot2-plots-mixpoissonreg_files/figure-html/unnamed-chunk-32-2.png" width="700"></p>
<p>Let us change the line type for Cook’s distance plots to points and change the point types to crosses:</p>
<div class="sourceCode" id="cb32"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/autoplot.mixpoissonreg.html">autoplot</a></span><span class="op">(</span><span class="va">fit</span>, which <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">3</span>,<span class="fl">4</span><span class="op">)</span>, cook.plot.type <span class="op">=</span> <span class="st">"points"</span>, cook.plot.pointshape <span class="op">=</span> <span class="fl">4</span><span class="op">)</span></code></pre></div>
<p><img src="ggplot2-plots-mixpoissonreg_files/figure-html/unnamed-chunk-33-1.png" width="700"><img src="ggplot2-plots-mixpoissonreg_files/figure-html/unnamed-chunk-33-2.png" width="700"></p>
<p>Finally, let us customize the quantile-quantile plots with and without simulated envelopes, namely, plot 2. The first customization is to remove the diagonal Q-Q line in the quantile-quantile plot without simulated envelopes:</p>
<div class="sourceCode" id="cb33"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/autoplot.mixpoissonreg.html">autoplot</a></span><span class="op">(</span><span class="va">fit</span>, which <span class="op">=</span> <span class="fl">2</span>, qqline <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></code></pre></div>
<p><img src="ggplot2-plots-mixpoissonreg_files/figure-html/unnamed-chunk-34-1.png" width="700"></p>
<p>We can change the qqline color by using the <code>ad.colour</code> argument:</p>
<div class="sourceCode" id="cb34"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/autoplot.mixpoissonreg.html">autoplot</a></span><span class="op">(</span><span class="va">fit</span>, which <span class="op">=</span> <span class="fl">2</span>, ad.colour <span class="op">=</span> <span class="st">"red"</span><span class="op">)</span></code></pre></div>
<p><img src="ggplot2-plots-mixpoissonreg_files/figure-html/unnamed-chunk-35-1.png" width="700"></p>
<p>Finally, let us consider a fitting with simulated envelopes:</p>
<div class="sourceCode" id="cb35"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">fit_env</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/mixpoissonregML.html">mixpoissonregML</a></span><span class="op">(</span><span class="va">daysabs</span> <span class="op">~</span> <span class="va">gender</span> <span class="op">+</span> <span class="va">math</span> <span class="op">+</span> <span class="va">prog</span> <span class="op">|</span> <span class="va">gender</span> <span class="op">+</span> 
                           <span class="va">math</span> <span class="op">+</span> <span class="va">prog</span>, envelope <span class="op">=</span> <span class="fl">100</span>, data <span class="op">=</span> <span class="va">Attendance</span><span class="op">)</span>

<span class="fu"><a href="../reference/autoplot.mixpoissonreg.html">autoplot</a></span><span class="op">(</span><span class="va">fit_env</span>, which <span class="op">=</span> <span class="fl">2</span><span class="op">)</span></code></pre></div>
<p><img src="ggplot2-plots-mixpoissonreg_files/figure-html/unnamed-chunk-36-1.png" width="700"></p>
<p>Let us first change the color of the median line of the simulated envelopes:</p>
<div class="sourceCode" id="cb36"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/autoplot.mixpoissonreg.html">autoplot</a></span><span class="op">(</span><span class="va">fit_env</span>, which <span class="op">=</span> <span class="fl">2</span>, ad.colour <span class="op">=</span> <span class="st">"red"</span><span class="op">)</span></code></pre></div>
<p><img src="ggplot2-plots-mixpoissonreg_files/figure-html/unnamed-chunk-37-1.png" width="700"></p>
<p>Let us also change the fill color of the simulated envelopes:</p>
<div class="sourceCode" id="cb37"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/autoplot.mixpoissonreg.html">autoplot</a></span><span class="op">(</span><span class="va">fit_env</span>, which <span class="op">=</span> <span class="fl">2</span>, env_fill <span class="op">=</span> <span class="st">"red"</span><span class="op">)</span></code></pre></div>
<p><img src="ggplot2-plots-mixpoissonreg_files/figure-html/unnamed-chunk-38-1.png" width="700"></p>
<p>We can change the transparency of the envelope by changing the <code>env_alpha</code> argument:</p>
<div class="sourceCode" id="cb38"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/autoplot.mixpoissonreg.html">autoplot</a></span><span class="op">(</span><span class="va">fit_env</span>, which <span class="op">=</span> <span class="fl">2</span>, env_fill <span class="op">=</span> <span class="st">"red"</span>, env_alpha <span class="op">=</span> <span class="fl">0.2</span><span class="op">)</span></code></pre></div>
<p><img src="ggplot2-plots-mixpoissonreg_files/figure-html/unnamed-chunk-39-1.png" width="700"></p>
</div>
<div id="points-to-be-identified" class="section level2">
<h2 class="hasAnchor">
<a href="#points-to-be-identified" class="anchor"></a>Points to be identified</h2>
<p>By default the <code>autoplot.mixpoissonreg</code> function always identifies the 3 “most extreme” points. We can change it so that it does not identify any points by setting the argument <code>label.n</code> to 0:</p>
<div class="sourceCode" id="cb39"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/autoplot.mixpoissonreg.html">autoplot</a></span><span class="op">(</span><span class="va">fit</span>, label.n <span class="op">=</span> <span class="fl">0</span><span class="op">)</span></code></pre></div>
<p><img src="ggplot2-plots-mixpoissonreg_files/figure-html/unnamed-chunk-40-1.png" width="700"><img src="ggplot2-plots-mixpoissonreg_files/figure-html/unnamed-chunk-40-2.png" width="700"><img src="ggplot2-plots-mixpoissonreg_files/figure-html/unnamed-chunk-40-3.png" width="700"><img src="ggplot2-plots-mixpoissonreg_files/figure-html/unnamed-chunk-40-4.png" width="700"></p>
<p>We can also increase the number of identified points. For instance:</p>
<div class="sourceCode" id="cb40"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/autoplot.mixpoissonreg.html">autoplot</a></span><span class="op">(</span><span class="va">fit</span>, label.n <span class="op">=</span> <span class="fl">5</span><span class="op">)</span></code></pre></div>
<p><img src="ggplot2-plots-mixpoissonreg_files/figure-html/unnamed-chunk-41-1.png" width="700"><img src="ggplot2-plots-mixpoissonreg_files/figure-html/unnamed-chunk-41-2.png" width="700"><img src="ggplot2-plots-mixpoissonreg_files/figure-html/unnamed-chunk-41-3.png" width="700"><img src="ggplot2-plots-mixpoissonreg_files/figure-html/unnamed-chunk-41-4.png" width="700"></p>
<p>Finally, we can change the labels of the identified points with the argument <code>label.label</code>. For instance, we may want to have the value of the <code>prog</code> covariate instead:</p>
<div class="sourceCode" id="cb41"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/autoplot.mixpoissonreg.html">autoplot</a></span><span class="op">(</span><span class="va">fit</span>, label.label <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/model.frame.html">model.frame</a></span><span class="op">(</span><span class="va">fit</span><span class="op">)</span><span class="op">$</span><span class="va">prog</span><span class="op">)</span></code></pre></div>
<p><img src="ggplot2-plots-mixpoissonreg_files/figure-html/unnamed-chunk-42-1.png" width="700"><img src="ggplot2-plots-mixpoissonreg_files/figure-html/unnamed-chunk-42-2.png" width="700"><img src="ggplot2-plots-mixpoissonreg_files/figure-html/unnamed-chunk-42-3.png" width="700"><img src="ggplot2-plots-mixpoissonreg_files/figure-html/unnamed-chunk-42-4.png" width="700"></p>
</div>
<div id="multiple-plots" class="section level2">
<h2 class="hasAnchor">
<a href="#multiple-plots" class="anchor"></a>Multiple plots</h2>
<p>We can easily create frames of multiple plots by simply using one of the arguments <code>nrow</code> or <code>ncol</code>. For instance,</p>
<div class="sourceCode" id="cb42"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/autoplot.mixpoissonreg.html">autoplot</a></span><span class="op">(</span><span class="va">fit</span>, nrow <span class="op">=</span> <span class="fl">2</span><span class="op">)</span></code></pre></div>
<p><img src="ggplot2-plots-mixpoissonreg_files/figure-html/unnamed-chunk-43-1.png" width="700"></p>
<p>As previously mentioned, we can change the common title in a multiple plot by changing the <code>sub.caption</code> argument:</p>
<div class="sourceCode" id="cb43"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/autoplot.mixpoissonreg.html">autoplot</a></span><span class="op">(</span><span class="va">fit</span>, nrow <span class="op">=</span> <span class="fl">2</span>, sub.caption <span class="op">=</span> <span class="st">"Mixed Poisson Regression"</span><span class="op">)</span></code></pre></div>
<p><img src="ggplot2-plots-mixpoissonreg_files/figure-html/unnamed-chunk-44-1.png" width="700"></p>
<p>To customize the common title, one can provide a list containing the “customizations” to the <code>gpar_sub.caption</code> argument. For instance:</p>
<div class="sourceCode" id="cb44"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/autoplot.mixpoissonreg.html">autoplot</a></span><span class="op">(</span><span class="va">fit</span>, nrow <span class="op">=</span> <span class="fl">2</span>, sub.caption <span class="op">=</span> <span class="st">"Mixed Poisson Regression"</span>,
         gpar_sub.caption <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span>fontsize <span class="op">=</span> <span class="fl">30</span>, col <span class="op">=</span> <span class="st">"red"</span>, 
                                 fontface <span class="op">=</span> <span class="st">"italic"</span><span class="op">)</span><span class="op">)</span></code></pre></div>
<p><img src="ggplot2-plots-mixpoissonreg_files/figure-html/unnamed-chunk-45-1.png" width="700"></p>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p>Developed by Alexandre B. Simas, Wagner Barreto-Souza.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
